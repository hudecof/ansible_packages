---
- name: "centos | packages"
  action: yum pkg={{ item }} state=present
  with_items: packages_pkgs
  tags: packages

- name: "centos | copy local packages"
  action: copy src=packages/{{ ansible_distribution }}.{{ ansible_distribution_major_version }}/{{ item }} dest=/tmp/{{ item }}
  with_items: packages_local
  tags: packages

- name: "centos | install local packages"
  action: yum pkg=/tmp/{{ item }}
  with_items: packages_local
  tags: packages

- name: "centos | repo configuration"
  action: ini_file dest=/etc/yum.repos.d/{{ item.file }} section={{ item.section }} option={{ item.option }} value={{ item.value }}
  with_items: packages_repo_config
  tags: packages

